TUTORIAL: Installing SuperCollider

- Fredrik's tutorials are the best, no need to reproduce them here

Newer Approach from WS 2013/14:
https://github.com/redFrik/udk10-Embedded_Systems
Fredrik’s guide: http://new-supercollider-mailing-lists-forums-use-these.2681727.n2.nabble.com/supercollider-on-Beaglebone-Black-td7599684.html


here's how i installed debian and supercollider on my beaglebone black...


//--preparation
* put debian-wheezy-7.0.0-armhf-3.8.13-bone20.img from http://www.armhf.com/index.php/boards/beaglebone-black/ on a micro sdcard (on osx it's easiest with Pi Filler)
* connect usb keyboard, hdmi and ethernet to the bbb (or skip keyboard+hdmi and do it all via ssh)
* put the sdcard in the bbb and apply power (not via laptop usb - use a power supply that can provide >500mA)
* you should see the bbb boot.  log in with debian/debian

$ /usr/sbin/ntpdate -b -s -u pool.ntp.org

fix locale issue:
locale: Cannot set LC_CTYPE to default locale: No such file or directory
locale: Cannot set LC_MESSAGES to default locale: No such file or directory
locale: Cannot set LC_ALL to default locale: No such file or directory
http://askubuntu.com/questions/162391/how-do-i-fix-my-locale-issue
http://hexample.com/2012/02/05/fixing-locale-problem-debian/

$ sudo apt-get install locales
$ sudo dpkg-reconfigure locales
- Select the English ones AND your extras with the space-bar, then chose UTF-8 from next page

$ sudo apt-get update
$ sudo apt-get upgrade
$ sudo apt-get install git alsa-base cmake build-essential libasound2-dev libsamplerate0-dev libsndfile1-dev emacs
$ sudo ldconfig

//--build jack2 (from git because of the arm bus bug in jack v1.9.9)
* git clone git://github.com/jackaudio/jack2.git
* cd jack2
* ./waf configure --alsa
* ./waf build
* sudo ./waf install
* sudo ldconfig

//--build sc
* sudo apt-get install libavahi-client-dev libicu-dev libreadline-dev libfftw3-dev libxt-dev
* cd ~
* git clone --recursive git://github.com/supercollider/supercollider.git
* cd supercollider
* mkdir build
* cd build
* cmake -L -DCMAKE_BUILD_TYPE=Release -DBUILD_TESTING=OFF -DSSE=OFF -DSSE2=OFF -DSUPERNOVA=OFF -DNOVA_SIMD=OFF -DSC_QT=OFF -DSC_WII=OFF -DSC_ED=OFF -DSC_IDE=OFF -DSC_EL=ON ..
* sudo make install
* sudo ldconfig

UPDATE
- if install fails with this error (newer kernels seem to include old version of g++, which cmake doesn’t like), do this:
cc1plus: error: unrecognized command line option '-std=c++11'
$ sudo apt-get install g++-4.7
$ cmake -L -DCMAKE_BUILD_TYPE=Release -DBUILD_TESTING=OFF -DSSE=OFF -DSSE2=OFF -DSUPERNOVA=OFF -DNOVA_SIMD=OFF -DSC_QT=OFF -DSC_WII=OFF -DSC_ED=OFF -DSC_IDE=OFF -DSC_EL=ON -DCMAKE_CXX_COMPILER=g++-4.7 -DSEQAN_C++11_STANDARD=ON ..

//--set jack permissions
* sudo adduser debian audio
* pico /etc/security/limits.conf
* add the following lines and do ctrl+o, ctrl+x so save and exit.
       @audio - memlock 1025288
       @audio - rtprio 99
* sudo shutdown -r now


//--log in and start jack and sclang
* jackd -R -d alsa -d hw:1,0 &
* export SC_JACK_DEFAULT_INPUTS="system"
* export SC_JACK_DEFAULT_OUTPUTS="system"
* sclang
sc3> Server.program= "/usr/local/bin/scsynth";
sc3> s= Server.default;
sc3> s.boot;
sc3> s.sendMsg("/g_new", 1, 0, 0);
sc3> s.sendMsg("/s_new", "default", 1000, 0, 1);
sc3> s.sendMsg("/n_free", 1000);
sc3> 0.exit;


the whole process takes about 1,5h.
i get audio in and out via this cheap usb soundcard... http://dx.com/p/virtual-5-1-surround-usb-2-0-external-sound-card-22475  the sound quality is totally ok.
(many thanks to Yvan Volochine for helping me out with alsa + soundcard.)


and last a small scserver performance test...
{1000000.do{2.5.sqrt}}.bench
osx sc365: 0.081311846999938 seconds.
bbb debian: 0.66118884086609
{Mix(50.collect{RLPF.ar(SinOsc.ar)});DC.ar(0)}.play
osx sc365: avg 4.3%
bbb debian: avg ~60.0%


_f

issues
cc1plus: error: unrecognized command line option '-std=c++11'

Debian has the package under the name gcc-4.8 (or for the c++ compiler, g++-4.8). Installing those packages will not mess up your OS, as long as you do not rename it to g++. The package is listed as experimental though.
Information on the package is here.